!function(n, t, e){
    console.log("init");

    var o = {
        init: function(e) {
            o.select2(),
            o.stellar(),
            o.carousel(),
            o.testimonialCarousel(),   // Carrusel de testimonios
            o.portfolio(),
            o.lightCase(),
            o.sideNav(),
            o.counter(),
            o.skills(),
            o.aos(),
            o.navbarChange(),
            o.resizeClientImages() // Ajustar tamaño de imágenes
        },
        select2: function() {
            n(e).ready(function() {
                n("select").select2()
            })
        },
        stellar: function() {
            var e = n(t).width();
            767 <= e && (n(".bg-fixed").attr("data-stellar-background-ratio", "0.8"), n.stellar({
                horizontalScrolling: !1,
                responsive: !0,
                parallaxBackgrounds: !0,
                scrollProperty: "scroll"
            }))
        },
        carousel: function() {
            // Carrusel de marcas
            n(".client-slider").owlCarousel({
                loop: true,
                margin: 10,
                nav: false,                    // Sin flechas
                autoplay: true,                // Movimiento automático
                autoplaySpeed: 1500,           // Velocidad de transición
                autoplayTimeout: 3000,         // Tiempo entre cada transición
                items: 5,                      // Número de items a mostrar
                dots: false,                   // Sin puntos de navegación
                responsive: {
                    0: {
                        items: 2
                    },
                    600: {
                        items: 3
                    },
                    1000: {
                        items: 5
                    }
                },
                smartSpeed: 800,               // Suavidad en las transiciones
                slideBy: 1
            });
        },
        testimonialCarousel: function() {
            // Carrusel de testimonios
            n(".testi-carousel").owlCarousel({
                loop: true, 
                margin: 30,                     // Espacio entre los items
                nav: false,                     // Sin flechas
                autoplay: true,                 // Movimiento automático
                autoplaySpeed: 1500,            // Velocidad de transición
                autoplayTimeout: 4000,          // Tiempo entre cada transición
                items: 1,                       // Un testimonio a la vez
                dots: true,                     // Con puntos de navegación
                smartSpeed: 800,                // Suavidad en las transiciones
                slideBy: 1
            });
        },
        portfolio: function() {
            var t = n(".grid-portfolio").isotope({
                itemSelector: ".grid-item",
                masonry: {
                    gutter: ".gutter-sizer",
                    columnWidth: ".grid-sizer"
                },
                percentPosition: !0
            });
            return n(".filter-button-group").on("click", "a", function() {
                var e = n(this).attr("data-filter");
                t.isotope({
                    filter: e
                })
            }), n(".btn-filter a.is-checked").addClass("active"), n(".btn-filter a").on("click", function() {
                n(".btn-filter a").removeClass("active"),
                n(this).addClass("active")
            }), !1
        },
        lightCase: function() {
            jQuery(e).ready(function(e) {
                e("a[data-rel^=lightcase]").lightcase()
            })
        },
        sideNav: function() {
            n("#side-nav-open").click(function() {
                n("#side-nav").css("width", "300"), setTimeout(function() {
                    n("body").addClass("sidenav-open")
                }, 200), setTimeout(function() {
                    n("body").addClass("in")
                }, 400)
            }), n("#side-nav-close, #canvas-overlay").click(function() {
                setTimeout(function() {
                    n("body").removeClass("in")
                }, 200), setTimeout(function() {
                    n("body").removeClass("sidenav-open"),
                    n("#side-nav").css("width", "0")
                }, 400)
            }), n("#side-search-open").click(function() {
                n("#side-search").css("width", "300"), setTimeout(function() {
                    n("body").addClass("sidesearch-open")
                }, 200), setTimeout(function() {
                    n("body").addClass("in")
                }, 300)
            }), n("#side-search-close, #canvas-overlay").click(function() {
                setTimeout(function() {
                    n("body").removeClass("in")
                }, 200), setTimeout(function() {
                    n("body").removeClass("sidesearch-open"),
                    n("#side-search").css("width", "0")
                }, 300)
            })
        },
        counter: function() {
            n("#counter").each(function() {
                n(this).waypoint({
                    handler: function(e) {
                        n(".number").countTo({
                            speed: 1e3
                        }), this.destroy()
                    },
                    offset: "80%"
                })
            })
        },
        skills: function() {
            n("#skills").each(function() {
                return n(this).waypoint({
                    handler: function(e) {
                        n(".progress").each(function() {
                            console.log(n(this).attr("data-percent")),
                            n(this).find(".progress-bar").delay(1e4).css({
                                width: n(this).attr("data-percent")
                            })
                        })
                    },
                    offset: "80%"
                }), !1
            })
        },
        aos: function() {
            AOS.init({
                once: !0
            })
        },
        navbarChange: function() {
            n(t).scroll(function() {
                var e = n(t).scrollTop();
                return 150 < e ? (n("#header-navbar").removeClass("navbar-transparent"), n("body").addClass("not-on-top")) : (n("body").removeClass("not-on-top"), n("#header-navbar").addClass("navbar-transparent")), !1
            })
        },
        resizeClientImages: function() {
            console.log("Resizing client images...");
            n(".client-item img").css({
                width: "200px !important", // Cambia este valor según lo necesario
                height: "auto !important"  // Mantiene la proporción
            });
        }
    };

    n(e).ready(function() {
        o.init(n)
    })

  n(".product-carousel").owlCarousel({
    loop: true,
    margin: 40, // Añadir más margen entre las imágenes
    nav: false, // Sin flechas
    autoplay: true,
    autoplaySpeed: 1500,
    autoplayTimeout: 3000,
    items: 3, // Asegura que sean 6 las imágenes visibles
    dots: true, // Puntos de navegación
    responsive: {
        0: {
            items: 1
        },
        600: {
            items: 3
        },
        1000: {
            items: 6
        }
    },
    smartSpeed: 800,
    slideBy: 1
});

popupWhatsApp = () => {
  
    let btnClosePopup = document.querySelector('.closePopup');
    let btnOpenPopup = document.querySelector('.whatsapp-button');
    let popup = document.querySelector('.popup-whatsapp');
    let sendBtn = document.getElementById('send-btn');
  
    btnClosePopup.addEventListener("click",  () => {
      popup.classList.toggle('is-active-whatsapp-popup')
    })
    
    btnOpenPopup.addEventListener("click",  () => {
      popup.classList.toggle('is-active-whatsapp-popup')
       popup.style.animation = "fadeIn .6s 0.0s both";
    })
    
    sendBtn.addEventListener("click", () => {
    let msg = document.getElementById('whats-in').value;
    let relmsg = msg.replace(/ /g,"%20");
          
     window.open('https://wa.me/+525634456116?text='+relmsg, '_blank'); 
    
    });
  
    setTimeout(() => {
      popup.classList.toggle('is-active-whatsapp-popup');
    }, 3000);
  }
  
  popupWhatsApp();
    
}(window.jQuery, window, document);
